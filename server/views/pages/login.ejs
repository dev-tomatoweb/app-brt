<%- include('../partials/head', { title: 'Login' }) %>

<div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center bg-light">
  <div class="card shadow-lg" style="max-width: 400px;">
    <div class="card-body p-5">
      <!-- Logo -->
      <div class="text-center mb-4">
        <img src="https://theflexx.com/wp-content/uploads/2025/02/the_flexx_logo_new_bw-1.png" alt="TheFlexx Logo" style="max-width: 180px; height: auto;">
      </div>

      <% if (locals.error) { %>
        <div class="alert alert-danger">
          <i class="fas fa-exclamation-circle"></i> <%= error %>
        </div>
      <% } %>

      <form method="POST" action="/login" class="needs-validation" novalidate>
        <div class="mb-4">
          <label for="username" class="form-label">Username</label>
          <div class="input-group">
            <span class="input-group-text">
              <i class="fas fa-user"></i>
            </span>
            <input type="text" class="form-control" id="username" name="username" required>
          </div>
        </div>

        <div class="mb-4">
          <label for="password" class="form-label">Password</label>
          <div class="input-group">
            <span class="input-group-text">
              <i class="fas fa-lock"></i>
            </span>
            <input type="password" class="form-control" id="password" name="password" required>
          </div>
        </div>

        <button type="submit" class="btn btn-primary w-100 py-2">
          <i class="fas fa-sign-in-alt"></i> Accedi
        </button>
      </form>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Font Awesome -->
<script src="https://kit.fontawesome.com/your-code.js" crossorigin="anonymous"></script>

<script>
// Validazione form Bootstrap
(function () {
  'use strict'
  const forms = document.querySelectorAll('.needs-validation')
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }
      form.classList.add('was-validated')
    }, false)
  })
})()
</script>

</body>
</html>
